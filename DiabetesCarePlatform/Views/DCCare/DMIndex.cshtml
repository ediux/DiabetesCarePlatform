@{
    ViewBag.Title = "個案";
}

@Html.Action("DCIndexMenu")

<div class="row">
    <div class="col-md-6 col-sm-3">
        <ul class="timeline">
            <li>
                <!-- begin timeline-time -->
                <div class="timeline-time">
                    <span class="date">today</span>
                    <span class="time">04:20</span>
                </div>
                <!-- end timeline-time -->
                <!-- begin timeline-icon -->
                <div class="timeline-icon">
                    <a href="javascript:;"><i class="fa fa fa-bullseye"></i></a>
                </div>
                <!-- end timeline-icon -->
                <!-- begin timeline-body -->
                <div class="timeline-body">
                    <div class="timeline-header">
                        <span>換藥物</span>

                    </div>
                    <div class="timeline-content">
                        <p>換藥物</p>
                    </div>
                    <div class="timeline-footer">

                    </div>
                </div>
                <!-- end timeline-body -->
            </li>
            <li>
                <!-- begin timeline-time -->
                <div class="timeline-time">
                    <span class="date">yesterday</span>
                    <span class="time">20:17</span>
                </div>
                <!-- end timeline-time -->
                <!-- begin timeline-icon -->
                <div class="timeline-icon">
                    <a href="javascript:;"><i class="fa fa fa-warning"></i></a>
                </div>
                <!-- end timeline-icon -->
                <!-- begin timeline-body -->

                <div class="timeline-body">
                    <div class="timeline-header">
                        <span>血糖異常</span>

                    </div>
                    <div class="timeline-content">
                        <p>就醫檢查結果:血糖異常</p>
                    </div>
                    <div class="timeline-footer">

                    </div>
                </div>
                <!-- end timeline-body -->
            </li>
            <li>
                <!-- begin timeline-time -->
                <div class="timeline-time">
                    <span class="date">24 February 2014</span>
                    <span class="time">08:17</span>
                </div>
                <!-- end timeline-time -->
                <!-- begin timeline-icon -->
                <div class="timeline-icon">
                    <a href="javascript:;"><i class="fa fa fa-bullseye"></i></a>
                </div>
                <!-- end timeline-icon -->
                <!-- begin timeline-body -->
                <div class="timeline-body">
                    <div class="timeline-header">
                        <span>實驗數據結果指數正常</span>

                    </div>
                    <div class="timeline-content">
                        <p>實驗數據結果指數正常</p>
                    </div>
                    <div class="timeline-footer">

                    </div>
                </div>
                <!-- end timeline-body -->
            </li>
            <li>
                <!-- begin timeline-time -->
                <div class="timeline-time">
                    <span class="date">10 January 2014</span>
                    <span class="time">20:43</span>
                </div>
                <!-- end timeline-time -->
                <!-- begin timeline-icon -->
                <div class="timeline-icon">
                    <a href="javascript:;"><i class="fa fa fa-bullseye"></i></a>
                </div>
                <!-- end timeline-icon -->
                <!-- begin timeline-body -->
                <div class="timeline-body">
                    <div class="timeline-header">
                        <span>實驗數據結果指數正常</span>

                    </div>
                    <div class="timeline-content">
                        <p>實驗數據結果指數正常</p>
                    </div>
                    <div class="timeline-footer">

                    </div>
                </div>
                <!-- end timeline-body -->
            </li>
            <li>
                <!-- begin timeline-icon -->
                <div class="timeline-icon">
                    <a href="javascript:;"><i class="fa fa-spinner"></i></a>
                </div>
                <!-- end timeline-icon -->
                <!-- begin timeline-body -->
                <div class="timeline-body">
                    Loading...
                </div>
                <!-- begin timeline-body -->
            </li>
        </ul>
    </div>

    <div class="col-md-3 col-sm-6">

        <div class="widget widget-stats" data-sortable-id="morris-chart-2">
            <div class="panel-heading bg-blue-grey">
                <h4 class="panel-title">近7天血糖值</h4>
            </div>
            <div class="panel-body">
                <div class="col-sm-12">
                    <label>
                        * 趨勢圖
                    </label>
                </div>
                <div class="=row">
                    <div class="col-md-12">
                        <div id="lineGlucose" style="width:300px; height:400px"></div>
                        @*<canvas id="lineGlucose" width="300" height="400"></canvas>*@
                        <div id="legendContainer"></div>    
                        <div id="divChart1" class="chart-legend"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
 
    <div class="col-md-3 col-sm-6">
        <div class="widget widget-stats" data-sortable-id="morris-chart-2">
            <div class="panel-heading bg-blue-grey">
                @*<div class="panel-heading-btn">
                        <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>
                        <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-repeat"></i></a>
                        <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>
                        <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-times"></i></a>
                    </div>*@
                <h4 class="panel-title">近7天血壓值</h4>
            </div>
            <div class="panel-body">
                <div class="col-sm-12">
                    <label>
                        * 趨勢圖
                    </label>
                </div>
                <div class="=row">
                    <div class="col-md-12">
                    <div id="barBP" style="width:300px; height:400px"></div>
                    @*<canvas id="barBP" width="300" height="400"></canvas>*@
                        <div id="divChart2" class="chart-legend"></div>
                        </div></div>
                       
                    </div>
                </div>

            </div>
    

    <div class="col-md-6 col-sm-6">
        <div class="panel panel-default">

            <div class="panel-heading heading-font-size ">
                &nbsp; &nbsp; 一周紀錄
                <div class="pull-left">
                    <a href="javascript:;"><i class="fa fa-arrow-circle-o-right fa-2x fa-rotate-180"></i></a>

                </div>
                <div class="pull-right">
                    <a href="javascript:;"><i class="fa fa-arrow-circle-o-right fa-2x"></i></a>

                </div>
            </div>
            <div class="panel-body">
                <div>
                    <table class="table table-striped table-bordered" id="tbUser">
                        <thead>
                            <tr>


                                <th></th>
                                <th>8/21</th>
                                <th>8/22</th>
                                <th>8/23</th>
                                <th>8/24</th>
                                <th>8/25</th>
                                <th>8/26</th>
                                <th>8/27</th>
                            </tr>
                            <tr>
                                <th>項目</th>
                                <th>日</th>
                                <th>一</th>
                                <th>二</th>
                                <th>三</th>
                                <th>四</th>
                                <th>五</th>
                                <th>六</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>飯前血糖</td>
                                <td>異常</td>
                                <td>異常</td>
                                <td>正常</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>飯後血糖</td>
                                <td>正常</td>
                                <td>正常</td>
                                <td>正常</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>

                                <td>血壓</td>
                                <td>正常</td>
                                <td>正常</td>
                                <td>正常</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>

                                <td>護理</td>
                                <td>無</td>
                                <td>有</td>
                                <td>有</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>

                                <td>運動</td>
                                <td>有</td>
                                <td>無</td>
                                <td>有</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>

                                <td>藥物紀錄</td>
                                <td>無</td>
                                <td>無</td>
                                <td>無</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>

                </div>

            </div>
        </div>
    </div>
</div>

@section scripts{
    <style>
        .chart-legend li span {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin-right: 5px;
            color:black;
        }
        .chart-legend li  {
            color: black;
        }
</style>
<script src="../Content/ColorAdmin/assets/plugins/chart-js/Chart.js"></script>
<script src="~/Content/ColorAdmin/assets/plugins/flot/jquery.flot.js"></script>
<script src="~/Content/ColorAdmin/assets/plugins/flot/jquery.flot.min.js"></script>
<script src="~/Content/ColorAdmin/assets/plugins/flot/jquery.flot.time.js"></script>
<script src="~/Content/ColorAdmin/assets/plugins/flot/jquery.flot.time.min.js"></script>
    <script>
        var FormWizard = function () {
            "use strict";
            return {
                init: function () {
                  //  handleBootstrapWizards();
                }
            };
        }();

        $(document).ready(function () {
            App.init();
            FormWizard.init();
        });
    </script>
    <script>
    //收縮壓
    var randomBPH = function () { return Math.round(Math.random() * 40 + 103) };
    //擴張壓
    var randomBPL = function () { return Math.round(Math.random() * 17 + 59) };
    //飯前血糖
    var randomGB = function () { return Math.round(Math.random() * 50 + 50) };
    //飯後血糖
    var randomGA = function () { return Math.round(Math.random() * 50 + 60) };

    var GlucoseData = {
        
      
            labels: ["8/1", "8/2", "8/3", "8/4"],
            datasets:
             [
               {
                   label: "飯前",
                   fillColor: "rgba(255, 255, 255,0.2)",
                   strokeColor: "rgba(255,48 ,48,1)",
                   pointColor: "rgba(255 ,48 ,48,1)",
                   pointStrokeColor: "#fff",
                   pointHighlightFill: "#fff",
                   pointHighlightStroke: "rgba(220,220,220,1)",
                   data: [randomGB(), randomGB(), randomGB(), randomGB()]
               },
               {
                   label: "飯後",
                   fillColor: "rgba(255, 255, 255,0.2)",
                   strokeColor: "rgba(244,164 ,96,1)",
                   pointColor: "rgba(244 ,164, 96,1)",
                   pointStrokeColor: "#fff",
                   pointHighlightFill: "#fff",
                   pointHighlightStroke: "rgba(151,187,205,1)",
                   data: [randomGA(), randomGA(), randomGA(), randomGA()]
               },
               {
                   label: "晨起",
                   fillColor: "rgba(255, 255, 255,0.2)",
                   strokeColor: "rgba(0,139,69,1)",
                   pointColor: "rgba(0,139,69,1)",
                   pointStrokeColor: "#fff",
                   pointHighlightFill: "#fff",
                   pointHighlightStroke: "rgba(220,220,220,1)",
                   data: [randomGB(), randomGB(), randomGB(), randomGB()]
               },
               {
                   label: "睡前",
                   fillColor: "rgba(255, 255, 255,0.2)",
                   strokeColor: "rgba(	122,103,238,1)",
                   pointColor: "rgba(122,103,238,1)",
                   pointStrokeColor: "#fff",
                   pointHighlightFill: "#fff",
                   pointHighlightStroke: "rgba(151,187,205,1)",
                   data: [randomGB(), randomGB(), randomGB(), randomGB()]
               }
             ]
    }

    var bpData = {
        labels: ["8/1 12:00", "8/1 13:00", "8/1 14:00", "8/1 15:00"],
        datasets:
         [
           {
               label: "收縮壓",
               fillColor: "rgba(255, 255, 255,0.2)",
               strokeColor: "rgba(255,48 ,48,1)",
               pointColor: "rgba(255 ,48 ,48,1)",
               pointStrokeColor: "#fff",
               pointHighlightFill: "#fff",
               pointHighlightStroke: "rgba(220,220,220,1)",
               data: [randomBPH(), randomBPH(), randomBPH(), randomBPH()]
           },
           {
               label: "擴張壓",
               fillColor: "rgba(255, 255, 255,0.2)",
               strokeColor: "rgba(244,164 ,96,1)",
               pointColor: "rgba(244 ,164, 96,1)",
               pointStrokeColor: "#fff",
               pointHighlightFill: "#fff",
               pointHighlightStroke: "rgba(151,187,205,1)",
               data: [randomBPL(), randomBPL(), randomBPL(), randomBPL()]
           }
         ]
    }
    var options = {
        segmentShowStroke: false,
        animateRotate: true,
        animateScale: false,
        percentageInnerCutout: 50,
        tooltipTemplate: "<%= value %>%"
    }
        window.onload = function () {
           
           
            ////血糖
            //var Glucose = document.getElementById('lineGlucose').getContext('2d');
            //var myLineChart = new Chart(Glucose).Line(GlucoseData, options);
            //document.getElementById('divChart1').innerHTML = myLineChart.generateLegend();
           
            ////
            //var barBP = document.getElementById('barBP').getContext('2d');
            //var myLineChart2 = new Chart(barBP).Line(bpData);
            //document.getElementById('divChart2').innerHTML = myLineChart2.generateLegend();
        };
    </script>
    <script>
        $(function () {

            //obj = { "total": [[2013, 4, 0], [2013, 5, 0], [2013, 6, 0], [2013, 7, 0], [2013, 8, 0], [2013, 9, 0], [2013, 10, 475], [2013, 11, 0], [2013, 12, 0], [2014, 1, 367], [2014, 2, 0], [2014, 3, 0]], "critical": [[2013, 4, 0], [2013, 5, 0], [2013, 6, 0], [2013, 7, 0], [2013, 8, 0], [2013, 9, 0], [2013, 10, 0], [2013, 11, 0], [2013, 12, 0], [2014, 1, 1], [2014, 2, 0], [2014, 3, 0]], "high": [[2013, 4, 0], [2013, 5, 0], [2013, 6, 0], [2013, 7, 0], [2013, 8, 0], [2013, 9, 0], [2013, 10, 20], [2013, 11, 0], [2013, 12, 0], [2014, 1, 20], [2014, 2, 0], [2014, 3, 0]], "medium": [[2013, 4, 0], [2013, 5, 0], [2013, 6, 0], [2013, 7, 0], [2013, 8, 0], [2013, 9, 0], [2013, 10, 24], [2013, 11, 0], [2013, 12, 0], [2014, 1, 135], [2014, 2, 0], [2014, 3, 0]], "low": [[2013, 4, 0], [2013, 5, 0], [2013, 6, 0], [2013, 7, 0], [2013, 8, 0], [2013, 9, 0], [2013, 10, 42], [2013, 11, 0], [2013, 12, 0], [2014, 1, 26], [2014, 2, 0], [2014, 3, 0]] };

            //seriesData = [];

            //for (var prop in obj) {
            //    seriesData.push({
            //        label: prop, data: $.map(obj[prop], function (i, j) {
            //            return [[new Date(i[0], i[1] - 1).getTime(), i[2]]];
            //        })
            //    });
            //}
            var disk1 = [[0, 3], [4, 8], [8, 5], [9, 13]];
            var disk2 = [[0, 3], [4, 8], [6, 5], [9, 13]];

            $.plot($("#lineGlucose"),
        [
            {
                data: disk1,
                label: "Page View"
            },
            {
                data: disk2,
                label: "Online User"
                //points: { show: true },

                //xaxis: 2  /* set second x axis */
            }
        ],
            {
                legend: { show: true, container: '#legendholder' }, lines: { show: true, fill: false },
                points: { show: true },
                legend: {
                    container: $("#legendContainer"),
                    noColumns: 0
                }


            }
            );
            $.plot($("#barBP"),
      [
          {
              data: disk1,
              label: "Page View"
          },
          {
              data: disk2,
              label: "Online User"
              //points: { show: true },

              //xaxis: 2  /* set second x axis */
          }
      ],
          {
              legend: { show: true, container: '#legendholder' }, lines: { show: true, fill: false },
              points: { show: true },

          }
          )

        });


     

    </script>
}
